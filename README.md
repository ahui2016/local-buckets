# local-buckets

本地文件倉庫 (管理文件, 備份文件)

- 完全彻底只考虑自用
- 每个仓库必须在一个项目（根目录）内
- 采用多仓库，每个仓库文件上限 1024 个（可随时修改）
- 仓库内不可包含子文件夹
- 搜索文件时可选择全部仓库或其中一部分仓库
- 每个仓库可单独设置文件大小上下限，是否加密

## 初始化一个项目

1. 新建一个空文件夹
2. 复制 local-buckets.exe 和 public 文件夹, 黏贴到该文件夹中

此时, 该文件夹就是一个新的项目, 启动该文件夹内的 local-buckets.exe, 即可使用这个新项目.

每个项目都有自己的 local-buckets.exe 和 public 文件夹, 这种方式的优点是可以避免项目互相干扰, 缺点是更新升级也需要各个项目分别操作. 由于预估更新升级很少, 因此这个缺点可以容忍.

## 新建仓库

- 通过网页表单新建仓库
- 新建仓库后, 提示用户仓库文件夹的地址, 可点击复制, 同时显示默认设置 (文件体积上限, 是否加密等)
- 仓库文件夹名只能使用 0-9, a-z, A-Z, _(下劃線), -(連字號), .(點)
- 仓库可以有标题, 可使用任何语言任何字符

## 上传文件

直接向仓库文件夹内添加文件

## 删除文件

直接删除仓库文件夹内的文件

## 更改文件名

- 直接进仓库文件夹更改文件名
- 注意, 更改文件名与修改文件内容必须分开操作
  - 因为只要文件内容不变, 就能自动更新文件名
  - 如果文件内容变了, 就要靠文件名来判断这是不是一个新文件
  - 因此如果文件名与文件内容同时改变, 就只能认为这是一个新文件, 无法与原有文件联系起来了

## 对比, 同步

- 选择框, 动作, 方向, 文件名
- 新增文件 (左→右)
- 新增文件 (右→左)
- 删除文件 (左)
- 删除文件 (右)
- 更新文件 (根据日期初步确定方向, 可点击改变方向)

### 对比同步方案

- 选择右边 (对比目标)
- 选择对比哪些仓库

## 加密

- <https://cryptography.io/en/latest/hazmat/primitives/aead/>
- 每个仓库可单独选择是否加密
- 统一一个密码
- 未输入密码不会显示加密仓库
